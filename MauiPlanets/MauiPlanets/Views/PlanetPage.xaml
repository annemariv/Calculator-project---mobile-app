<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiPlanets.Views.PlanetPage"
             Title="PlanetPage">

    <Grid IgnoreSafeArea="{OnPlatform Android=False, iOS=True}">
        <!--Menu grid-->
        <Grid x:Name="MainContentGrid"
              Padding="24,52,24,0"
              IgnoreSafeArea="{OnPlatform Android=False, iOS=True}"
              BackgroundColor="{StaticResource PageBackgroundColor}"
              ColumnDefinitions="*, Auto"
              RowDefinitions="Auto,*">

            <!--Header text-->
            <VerticalStackLayout Spacing="4" Grid.Row="0"
                                 Grid.Column="0"
                                 VerticalOptions="Center">
                <Label
                    Style="{StaticResource PageHeaderStyle}"
                    Text="Lets explore"/>
                <Label
                    Style="{StaticResource PageHeaderSubtitleStyle}"
                    Text="The milky way galaxy"/>

            </VerticalStackLayout>

            <!--Profile pic-->
            <Border WidthRequest="56"
                    HeightRequest="56"
                    VerticalOptions="Center"
                    HorizontalOptions="End"
                    Stroke="{StaticResource LightBorderColor}"
                    StrokeThickness="6"
                    Grid.Row="0"
                    Grid.Column="1">

                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="28"></RoundRectangle>
                </Border.StrokeShape>

                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="ProfilePic_Clicked"></TapGestureRecognizer>
                </Border.GestureRecognizers>

                <Image>
                    <Image.Clip>
                        <EllipseGeometry Center="25,35" RadiusX="25" RadiusY="25">

                        </EllipseGeometry>
                    </Image.Clip>
                </Image>
                
                <!--Main content scrollview-->
                <ScrollView Grid.Row="1"
                            Grid.Column="0"
                            Grid.ColumnSpan="2"
                            HorizontalScrollBarVisibility="Never"
                            VerticalScrollBarVisibility="Never"
                            Margin="0,32,-24,0">
                    <VerticalStackLayout Spacing="12">
                        <Border Padding="12,4"
                                BackgroundColor="#33CCCC"
                                Stroke="{StaticResource BorderColor}"
                                HorizontalOptions="Fill"
                                >
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="6"></RoundRectangle>
                            </Border.StrokeShape>

                            <Grid HorizontalOptions="Fill"
                                  VerticalOptions="Center"
                                  ColumnDefinitions="Auto,*"
                                  ColumnSpacing="16">
                                <Image WidthRequest="18"
                                       HeightRequest="18"
                                       Source="imgsearch.png"
                                       Grid.Column="0"
                                       VerticalOptions="Center">
                                    
                                </Image>

                                <Label
                                    Text="Search for your fav planet",
                                    Grid.Column="1"
                                    VerticalOptions="Center"
                                    VerticalTextAlignment="Center"
                                    Style="{StaticResource MenuLabelStyle}">
                                    
                                </Label>
                                
                            </Grid>
                            
                        </Border>

                        <Label Style="{StaticResource PageSubHeaderStyle}"
                               Margin="0,12,0,0">
                            <Label.FormattedText>
                                <Span Text="Most popular "></Span>
                            </Label.FormattedText>
                        </Label>

                        <CollectionView x:Name="lstPopularPlanets"
                                        HeightRequest="280"
                                        SelectionMode="Single"
                                        SelectionChanged="Planets_SelectionChanged">
                            <CollectionView..ItemsLayout>
                                <LinearItemsLayout Orientation="Horizontal"
                                                   ItemSpacing="16"
                                                   >
                                </LinearItemsLayout>
                            </CollectionView..ItemsLayout>
                        </CollectionView>
                        
                    </VerticalStackLayout>
                    
                </ScrollView>

            </Border>
        </Grid>
    </Grid>
</ContentPage>